package jQuery.PRIMO;

import com.exlibris.primo.xsd.commonData.PrimoResult;
import org.junit.Before;
import org.junit.Test;

import java.io.File;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertTrue;

/**
 * Created by mehmetc on 19/03/16.
 */
public class FacetTest {
    private Facet facet;

    @Before
    public void setUp() throws Exception {
        System.setProperty("log4j.defaultInitOverride","true");

        File file = new File("/Users/mehmetc/Sources/Libis/Primo/jQuery.PRIMO.jar/test/resources/resultset.xml");
        this.facet = new Facet(Helpers.parsePrimoResultFacets(PrimoResult.Factory.parse(file)));
    }

    @Test
    public void testGet() throws Exception {
        HashMap data = facet.get();

        ArrayList facets = (ArrayList) data.get("facets");
        assertTrue(facets.size() == 12);

        ArrayList facetNames = new ArrayList();

        for (Object facet : facets) {
            facetNames.add(((HashMap) facet).get("name"));
        }

        Collections.sort(facetNames);
        assertEquals(facetNames.toString(), "[creationdate, creator, domain, genre, jtitle, lang, library, local4, pfilter, rtype, tlevel, topic]");

    }

    @Test
    public void testGetJSON() throws Exception {
        String expectedJSON = "{\"facets\":[{\"values\":[{\"name\":\"Priemen, P\",\"count\":\"2\"},{\"name\":\"Koninckx, C\",\"count\":\"2\"},{\"name\":\"Eppinger, R\",\"count\":\"2\"},{\"name\":\"Janssens, P\",\"count\":\"2\"},{\"name\":\"Joly, L\",\"count\":\"2\"},{\"name\":\"Martens, B\",\"count\":\"3\"},{\"name\":\"Rousseau, S\",\"count\":\"3\"},{\"name\":\"Deridder, L\",\"count\":\"3\"},{\"name\":\"Schoukens, H\",\"count\":\"2\"},{\"name\":\"Van Looveren, R\",\"count\":\"2\"},{\"name\":\"Scheltjens, T\",\"count\":\"3\"},{\"name\":\"Bauters, P\",\"count\":\"2\"},{\"name\":\"Van Rompaey, M\",\"count\":\"2\"},{\"name\":\"Van Looy, K\",\"count\":\"2\"},{\"name\":\"Asaert, G\",\"count\":\"2\"},{\"name\":\"Van Hooydonk, E\",\"count\":\"4\"},{\"name\":\"Berlamont, J\",\"count\":\"2\"},{\"name\":\"Eylenbosch, J\",\"count\":\"2\"},{\"name\":\"Bursens, P\",\"count\":\"2\"},{\"name\":\"Didde, R\",\"count\":\"2\"},{\"name\":\"Van Steertegem, M\",\"count\":\"4\"},{\"name\":\"Faure, M\",\"count\":\"3\"},{\"name\":\"Martens, K\",\"count\":\"4\"},{\"name\":\"Maes, F\",\"count\":\"3\"},{\"name\":\"Vandaele, W\",\"count\":\"4\"},{\"name\":\"Mortelmans, K\",\"count\":\"2\"},{\"name\":\"Vandaele, K\",\"count\":\"2\"},{\"name\":\"Raymaekers, F\",\"count\":\"2\"},{\"name\":\"Batelaan, O\",\"count\":\"2\"},{\"name\":\"Vettenburg, N\",\"count\":\"2\"},{\"name\":\"De Cock, K\",\"count\":\"2\"},{\"name\":\"Lammens, J\",\"count\":\"2\"},{\"name\":\"Peeters, C\",\"count\":\"2\"},{\"name\":\"Brouwers, J\",\"count\":\"3\"},{\"name\":\"Mosley, P\",\"count\":\"3\"},{\"name\":\"Marchand, K\",\"count\":\"3\"},{\"name\":\"Raymaekers, B\",\"count\":\"2\"},{\"name\":\"Bosmans, D\",\"count\":\"2\"},{\"name\":\"Lindhout, P\",\"count\":\"2\"},{\"name\":\"Thomas, P\",\"count\":\"4\"},{\"name\":\"Broekx, S\",\"count\":\"2\"},{\"name\":\"Vercaemst, P\",\"count\":\"3\"},{\"name\":\"Proost, S\",\"count\":\"6\"},{\"name\":\"Carette, A\",\"count\":\"3\"},{\"name\":\"Heyman, J\",\"count\":\"4\"},{\"name\":\"De Witte, K\",\"count\":\"6\"},{\"name\":\"Van Liefferinge, C\",\"count\":\"2\"},{\"name\":\"Vaes, G\",\"count\":\"3\"},{\"name\":\"De Pauw, N\",\"count\":\"4\"},{\"name\":\"Bruyndoncx, M\",\"count\":\"2\"},{\"name\":\"Goethals, P\",\"count\":\"2\"},{\"name\":\"Cauwenberghs, K\",\"count\":\"2\"},{\"name\":\"Marques, R\",\"count\":\"2\"},{\"name\":\"Smout, L\",\"count\":\"4\"},{\"name\":\"Santbergen, L\",\"count\":\"2\"},{\"name\":\"Crabbé, A\",\"count\":\"2\"},{\"name\":\"Emery, J\",\"count\":\"2\"},{\"name\":\"Meynaerts, E\",\"count\":\"2\"},{\"name\":\"Pearce, F\",\"count\":\"2\"},{\"name\":\"Hermy, M\",\"count\":\"2\"},{\"name\":\"Berkoff, J\",\"count\":\"4\"},{\"name\":\"Swerts, M\",\"count\":\"2\"},{\"name\":\"Gielen, B\",\"count\":\"3\"},{\"name\":\"van Wesemael, B\",\"count\":\"2\"},{\"name\":\"Van Hoestenberghe, T\",\"count\":\"3\"},{\"name\":\"Vanneuville, W\",\"count\":\"2\"},{\"name\":\"Ronse, Y\",\"count\":\"2\"},{\"name\":\"Wiering, M\",\"count\":\"2\"},{\"name\":\"Lincklaen Arriëns, W\",\"count\":\"3\"},{\"name\":\"De Moor, F\",\"count\":\"2\"},{\"name\":\"Van Hootegem, H\",\"count\":\"2\"},{\"name\":\"Lavrysen, L\",\"count\":\"3\"},{\"name\":\"Huygens, M\",\"count\":\"2\"},{\"name\":\"Van de Water, G\",\"count\":\"2\"},{\"name\":\"Moons, E\",\"count\":\"2\"},{\"name\":\"Glasbergen, P\",\"count\":\"2\"},{\"name\":\"Vos, G\",\"count\":\"2\"},{\"name\":\"Mostaert, F\",\"count\":\"3\"},{\"name\":\"Deketelaere, K\",\"count\":\"3\"},{\"name\":\"Verbruggen, A\",\"count\":\"4\"},{\"name\":\"Wartel, S\",\"count\":\"2\"},{\"name\":\"De Smedt, P\",\"count\":\"5\"},{\"name\":\"Hens, L\",\"count\":\"2\"},{\"name\":\"Petrella, R\",\"count\":\"2\"},{\"name\":\"Bird, J\",\"count\":\"3\"},{\"name\":\"Postel, S\",\"count\":\"2\"},{\"name\":\"Gore, A\",\"count\":\"2\"},{\"name\":\"Willems, P\",\"count\":\"6\"},{\"name\":\"Lamote, A\",\"count\":\"2\"},{\"name\":\"Smedt, P\",\"count\":\"2\"},{\"name\":\"Vereecken, H\",\"count\":\"2\"},{\"name\":\"Van Eerdenbrugh, K\",\"count\":\"4\"},{\"name\":\"De Smedt, F\",\"count\":\"3\"},{\"name\":\"Geeraerts, K\",\"count\":\"2\"},{\"name\":\"Diriken, P\",\"count\":\"2\"},{\"name\":\"Meire, P\",\"count\":\"11\"},{\"name\":\"D'hondt\",\"count\":\"2\"},{\"name\":\"D'heygere\",\"count\":\"2\"},{\"name\":\"De Bie, E\",\"count\":\"2\"},{\"name\":\"Voet, M\",\"count\":\"3\"}],\"name\":\"creator\",\"count\":100,\"index\":0},{\"values\":[{\"name\":\"und\",\"count\":\"5\"},{\"name\":\"ger\",\"count\":\"2\"},{\"name\":\"dut\",\"count\":\"595\"},{\"name\":\"ara\",\"count\":\"1\"},{\"name\":\"eng\",\"count\":\"159\"},{\"name\":\"fre\",\"count\":\"10\"},{\"name\":\"spa\",\"count\":\"1\"}],\"name\":\"lang\",\"count\":7,\"index\":1},{\"values\":[{\"name\":\"books\",\"count\":\"448\"},{\"name\":\"dissertations\",\"count\":\"6\"},{\"name\":\"journals\",\"count\":\"48\"},{\"name\":\"other\",\"count\":\"1\"},{\"name\":\"databases\",\"count\":\"1\"},{\"name\":\"text_resources\",\"count\":\"200\"},{\"name\":\"Articles\",\"count\":\"290\"},{\"name\":\"websites\",\"count\":\"10\"},{\"name\":\"media\",\"count\":\"4\"},{\"name\":\"schoolbooks\",\"count\":\"1\"}],\"name\":\"rtype\",\"count\":10,\"index\":2},{\"values\":[{\"name\":\"Milieubescherming. Milieutechnologie\",\"count\":\"9\"},{\"name\":\"#C9202\",\"count\":\"9\"},{\"name\":\"#A9110A\",\"count\":\"9\"},{\"name\":\"#C9201\",\"count\":\"12\"},{\"name\":\"Pollutie van lucht, water, grond--(openbare gezondheidszorg)--België\",\"count\":\"7\"},{\"name\":\"belgique\",\"count\":\"7\"},{\"name\":\"Environment. Environmental science\",\"count\":\"14\"},{\"name\":\"Water Eau Water\",\"count\":\"7\"},{\"name\":\"#SBIB:35H434 Beleidssectoren: milieubeleid en ruimtelijke ordening\",\"count\":\"14\"},{\"name\":\"P493VL Vlaanderen Flandres\",\"count\":\"6\"},{\"name\":\"luchtverontreiniging\",\"count\":\"8\"},{\"name\":\"504 milieu\",\"count\":\"16\"},{\"name\":\"milieubeleid trefwoord HUB\",\"count\":\"13\"},{\"name\":\"BE \\/ Belgium - België - Belgique\",\"count\":\"15\"},{\"name\":\"#ECO:01.13:economie sociaal duurzaam milieu ethiek\",\"count\":\"11\"},{\"name\":\"AA \\/ International- internationaal\",\"count\":\"10\"},{\"name\":\"Nederland\",\"count\":\"8\"},{\"name\":\"afval\",\"count\":\"9\"},{\"name\":\"Milieu-economie 504.7:330\",\"count\":\"7\"},{\"name\":\"#SBIB:35H6015 Bestuur en beleid: nationale en regionale studies: Vlaanderen\",\"count\":\"6\"},{\"name\":\"België\",\"count\":\"15\"},{\"name\":\"532 Watervervuiling en waterzuivering OC\",\"count\":\"24\"},{\"name\":\"#A9306A\",\"count\":\"6\"},{\"name\":\"Energie 620.9\",\"count\":\"6\"},{\"name\":\"Milieubeleid 504.7:338\",\"count\":\"6\"},{\"name\":\"Pollutie van lucht, water, grond--(openbare gezondheidszorg)\",\"count\":\"51\"},{\"name\":\"Milieu 504.7\",\"count\":\"26\"},{\"name\":\"614.7 milieu - leefmilieu - milieubeleid (zie ook 712) - duurzame ontwikkeling environnement (voir aussi 712) - développement durable\",\"count\":\"7\"},{\"name\":\"milieuzorg\",\"count\":\"6\"},{\"name\":\"469 Energie\",\"count\":\"23\"},{\"name\":\"Water 614.7:502.5-204\",\"count\":\"10\"},{\"name\":\"556 water\",\"count\":\"8\"},{\"name\":\"628 Milieubescherming. Milieutechnologie\",\"count\":\"9\"},{\"name\":\"Milieu-bedrijfsleven 504.7:658:338\",\"count\":\"7\"},{\"name\":\"444 Watervervoer\",\"count\":\"7\"},{\"name\":\"504\",\"count\":\"13\"},{\"name\":\"Klimaatverandering\",\"count\":\"10\"},{\"name\":\"leefmilieu environnement\",\"count\":\"8\"},{\"name\":\"waterzuivering trefwoord HUB\",\"count\":\"6\"},{\"name\":\"460 Economie\",\"count\":\"6\"},{\"name\":\"550 Bodemverontreiniging\",\"count\":\"8\"},{\"name\":\"milieuverontreiniging\",\"count\":\"6\"},{\"name\":\"351.2 Openbare gezondheid. Milieubescherming. Milieuvervuiling. Santé publique. Environnement. Pollution. Ecologie. Public health. Conservation. Environmental pollution.\",\"count\":\"10\"},{\"name\":\"628.1 water - waterbeleid - waterdistributie - watervoorziening politique de l'eau - distribution d'eau\",\"count\":\"7\"},{\"name\":\"milieubeleid politique de l'environnement\",\"count\":\"9\"},{\"name\":\"Pollutie van lucht, water, grond--(openbare gezondheidszorg)--Vlaanderen. Vlaams Gewest. Nederlandstalige Gemeenschap in België\",\"count\":\"8\"},{\"name\":\"#SERV: inv. Leuven 4\",\"count\":\"12\"},{\"name\":\"Academic collection\",\"count\":\"18\"},{\"name\":\"614.621 Waterverontreiniging siso\",\"count\":\"6\"},{\"name\":\"532 Watervervuiling en waterzuivering\",\"count\":\"36\"},{\"name\":\"Ecologie\",\"count\":\"11\"},{\"name\":\"milieu - leefmilieu - milieubeleid (zie ook 712) - duurzame ontwikkeling\",\"count\":\"7\"},{\"name\":\"environnement\",\"count\":\"11\"},{\"name\":\"Vlaanderen\",\"count\":\"19\"},{\"name\":\"530 Waterbeleid OC\",\"count\":\"37\"},{\"name\":\"540 Luchtverontreiniging\",\"count\":\"13\"},{\"name\":\"883 Azië\",\"count\":\"6\"},{\"name\":\"Afvalwater\",\"count\":\"8\"},{\"name\":\"milieuproblematiek trefwoord HUB\",\"count\":\"15\"},{\"name\":\"34 wetgeving\",\"count\":\"6\"},{\"name\":\"milieuvervuiling trefwoord HUB\",\"count\":\"7\"},{\"name\":\"Europese unie\",\"count\":\"8\"},{\"name\":\"500 Milieu OC\",\"count\":\"15\"},{\"name\":\"Beleidssectoren: milieubeleid en ruimtelijke ordening\",\"count\":\"10\"},{\"name\":\"500 Milieu\",\"count\":\"25\"},{\"name\":\"475 Landbouw\",\"count\":\"7\"},{\"name\":\"Vlaamse Gemeenschap \\/ Gewest trefwoord HUB\",\"count\":\"7\"},{\"name\":\"580 Ruimtelijke ordening\",\"count\":\"6\"},{\"name\":\"Ministerie van de Vlaamse Gemeenschap 353.11\",\"count\":\"8\"},{\"name\":\"469.1 Natuurlijke rijkdommen behalve energie en water OC\",\"count\":\"17\"},{\"name\":\"355 Milieu Environnement Environment\",\"count\":\"11\"},{\"name\":\"(493=393.2)\",\"count\":\"11\"},{\"name\":\"water\",\"count\":\"34\"},{\"name\":\"Openbare gezondheid. Milieubescherming. Milieuvervuiling.\",\"count\":\"9\"},{\"name\":\"politique de l'environnement\",\"count\":\"6\"},{\"name\":\"#A9703A\",\"count\":\"6\"},{\"name\":\"520 Milieubeleid\",\"count\":\"21\"},{\"name\":\"Milieubeleid\",\"count\":\"24\"},{\"name\":\"830 Economie\",\"count\":\"7\"},{\"name\":\"469.1 Natuurlijke rijkdommen behalve energie en water\",\"count\":\"32\"},{\"name\":\"Wetgeving, reglementering i.v.m. milieubeheer, milieuhygiene, verontreiniging. Milieurecht. Milieuhygienerecht--zie ook {?502\\/504}; {?613\\/614}; {628}--Vlaanderen. Vlaams Gewest. Nederlandstalige Gemeenschap in België\",\"count\":\"7\"},{\"name\":\"838.1 Ecologie\",\"count\":\"16\"},{\"name\":\"813 Methodologie\",\"count\":\"9\"},{\"name\":\"614.7\",\"count\":\"9\"},{\"name\":\"835 Natuurlijke rijkdommen\",\"count\":\"8\"},{\"name\":\"351.777\",\"count\":\"18\"},{\"name\":\"Sociaal Economische Raad \\/ SER 331.883.5SER\",\"count\":\"10\"},{\"name\":\"waterverontreiniging\",\"count\":\"16\"},{\"name\":\"440.2 Openbare werken - Water OC\",\"count\":\"21\"},{\"name\":\"440.2 Openbare werken. Water\",\"count\":\"31\"},{\"name\":\"Openbare gezondheidszorg.--zie ook {?614.1\\/7} en {628}.\",\"count\":\"8\"},{\"name\":\"530 Waterbeleid\",\"count\":\"142\"},{\"name\":\"Milieu\",\"count\":\"45\"},{\"name\":\"Wetgeving, reglementering i.v.m. milieubeheer, milieuhygiene, verontreiniging. Milieurecht. Milieuhygienerecht--zie ook {?502\\/504}; {?613\\/614}; {628}\",\"count\":\"10\"},{\"name\":\"#A9209A\",\"count\":\"8\"},{\"name\":\"531 Waterwinning\",\"count\":\"8\"},{\"name\":\"Public health engineering. Water. Sanitation. Illuminating engineering\",\"count\":\"9\"}],\"name\":\"topic\",\"count\":97,\"index\":3},{\"values\":[{\"name\":\"online_resources\",\"count\":\"209\"},{\"name\":\"print_copies\",\"count\":\"577\"}],\"name\":\"tlevel\",\"count\":2,\"index\":4},{\"values\":[{\"name\":\"books\",\"count\":\"444\"},{\"name\":\"dissertations\",\"count\":\"6\"},{\"name\":\"journals\",\"count\":\"48\"},{\"name\":\"databases\",\"count\":\"1\"},{\"name\":\"audio_video\",\"count\":\"4\"},{\"name\":\"text_resources\",\"count\":\"200\"},{\"name\":\"Articles\",\"count\":\"290\"},{\"name\":\"websites\",\"count\":\"10\"},{\"name\":\"schoolbooks\",\"count\":\"1\"}],\"name\":\"pfilter\",\"count\":9,\"index\":5},{\"values\":[{\"name\":\"2008\",\"count\":\"27\"},{\"name\":\"2009\",\"count\":\"17\"},{\"name\":\"2006\",\"count\":\"37\"},{\"name\":\"2007\",\"count\":\"83\"},{\"name\":\"2004\",\"count\":\"29\"},{\"name\":\"2005\",\"count\":\"18\"},{\"name\":\"2002\",\"count\":\"17\"},{\"name\":\"2003\",\"count\":\"29\"},{\"name\":\"1995\",\"count\":\"28\"},{\"name\":\"1996\",\"count\":\"29\"},{\"name\":\"1997\",\"count\":\"14\"},{\"name\":\"1972\",\"count\":\"2\"},{\"name\":\"1998\",\"count\":\"31\"},{\"name\":\"1991\",\"count\":\"33\"},{\"name\":\"1973\",\"count\":\"1\"},{\"name\":\"1992\",\"count\":\"27\"},{\"name\":\"1993\",\"count\":\"17\"},{\"name\":\"1994\",\"count\":\"31\"},{\"name\":\"1977\",\"count\":\"1\"},{\"name\":\"2012\",\"count\":\"46\"},{\"name\":\"1978\",\"count\":\"3\"},{\"name\":\"2011\",\"count\":\"26\"},{\"name\":\"1979\",\"count\":\"1\"},{\"name\":\"2010\",\"count\":\"32\"},{\"name\":\"1999\",\"count\":\"17\"},{\"name\":\"2013\",\"count\":\"32\"},{\"name\":\"2014\",\"count\":\"11\"},{\"name\":\"2015\",\"count\":\"4\"},{\"name\":\"1968\",\"count\":\"1\"},{\"name\":\"1990\",\"count\":\"18\"},{\"name\":\"500\",\"count\":\"4\"},{\"name\":\"1982\",\"count\":\"1\"},{\"name\":\"1980\",\"count\":\"1\"},{\"name\":\"1981\",\"count\":\"2\"},{\"name\":\"1986\",\"count\":\"6\"},{\"name\":\"1987\",\"count\":\"2\"},{\"name\":\"1984\",\"count\":\"4\"},{\"name\":\"1985\",\"count\":\"6\"},{\"name\":\"1988\",\"count\":\"3\"},{\"name\":\"1989\",\"count\":\"8\"},{\"name\":\"2001\",\"count\":\"30\"},{\"name\":\"2000\",\"count\":\"22\"}],\"name\":\"creationdate\",\"count\":42,\"index\":6},{\"values\":[{\"name\":\"LIBISnet Catalogue\",\"count\":\"768\"}],\"name\":\"domain\",\"count\":1,\"index\":7},{\"values\":[{\"name\":\"Bestuurskunde\",\"count\":\"1\"},{\"name\":\"De Europese gemeente : tijdschrift van en voor de lokale besturen\",\"count\":\"2\"},{\"name\":\"Natuur.blad.\",\"count\":\"1\"},{\"name\":\"Economisch statistische berichten\",\"count\":\"3\"},{\"name\":\"iMediair : input voor je carriere.\",\"count\":\"3\"},{\"name\":\"De gids op maatschappelijk gebied : blad met mening (m\\/v).\",\"count\":\"1\"},{\"name\":\"De koevoet : tijdschrift voor een duurzame levensstijl.\",\"count\":\"2\"},{\"name\":\"Verrekijker\",\"count\":\"1\"},{\"name\":\"Markant : onafhankelijk progressief weekblad\",\"count\":\"2\"},{\"name\":\"EOS magazine : wetenschap en technologie voor de mens.\",\"count\":\"2\"},{\"name\":\"Water : tijdschrift over waterproblematiek.\",\"count\":\"38\"},{\"name\":\"The OECD observer.\",\"count\":\"1\"},{\"name\":\"Arbeid en milieu magazine.\",\"count\":\"4\"},{\"name\":\"Milieurama.\",\"count\":\"6\"},{\"name\":\"TerZake : praktijkblad over lokaal beleid, inspraak en samenlevingsopbouw.\",\"count\":\"1\"},{\"name\":\"Jura falconis.\",\"count\":\"1\"},{\"name\":\"Spoorzoeker : driemaandelijks nieuwsmagazine van het Agentschap voor Natuur en Bos.\",\"count\":\"1\"},{\"name\":\"Humo : onafhankelijk weekblad voor radio en televisie.\",\"count\":\"2\"},{\"name\":\"Samenleving en politiek : tijdschrift voor een democratisch socialisme.\",\"count\":\"2\"},{\"name\":\"Energie en milieu : tijdschrift over energie en leefmilieu.\",\"count\":\"2\"},{\"name\":\"Bodem : tijdschrift over duurzaam bodembeheer\",\"count\":\"2\"},{\"name\":\"Doorbraak : maandblad van de Vlaamse Volksbeweging vzw.\",\"count\":\"1\"},{\"name\":\"West-Vlaanderen werkt.\",\"count\":\"2\"},{\"name\":\"Natuur en techniek.\",\"count\":\"3\"},{\"name\":\"A&M magazine : driemaandelijks tijdschrift van Arbeid en Milieu.\",\"count\":\"2\"},{\"name\":\"Bladgroen : maandblad van de Vlaamse groenen\",\"count\":\"1\"},{\"name\":\"Scientific American.\",\"count\":\"2\"},{\"name\":\"De nieuwe maand : tijdschrift voor politieke vernieuwing.\",\"count\":\"2\"},{\"name\":\"De gids.\",\"count\":\"1\"},{\"name\":\"Greenpeace magazine.\",\"count\":\"1\"},{\"name\":\"De grote rede : nieuws over onze kust en zee\",\"count\":\"1\"},{\"name\":\"Tijdschrift voor bestuurswetenschappen en publiekrecht\",\"count\":\"1\"},{\"name\":\"Sociaal-economische wetgeving : tijdschrift voor Europees en economisch recht\",\"count\":\"1\"},{\"name\":\"MilieuDirect : vakblad voor bedrijfsleiders en milieuprofessionals.\",\"count\":\"3\"},{\"name\":\"Milieutechnologie : maandelijkse nieuwsbrief.\",\"count\":\"5\"},{\"name\":\"Binnenvaart : magazine voor vervoer over water.\",\"count\":\"1\"},{\"name\":\"MilieuDirect :, (vakblad voor bedrijfsleiders en milieuprofessionals.)\",\"count\":\"3\"},{\"name\":\"Journal of Common Market Studies\",\"count\":\"1\"},{\"name\":\"Tijdschrift voor milieurecht\",\"count\":\"2\"},{\"name\":\"The bulletin : the newsweekly of the capital of Europe.\",\"count\":\"1\"},{\"name\":\"Knack\",\"count\":\"2\"},{\"name\":\"Internationale spectator : tijdschrift voor internationale politiek\",\"count\":\"2\"},{\"name\":\"Milieumagazine\",\"count\":\"1\"},{\"name\":\"Het belang van Limburg.\",\"count\":\"1\"},{\"name\":\"Nederlands Juristenblad\",\"count\":\"2\"},{\"name\":\"Codex milieurecht. Milieurecht info.\",\"count\":\"2\"},{\"name\":\"European planning studies.\",\"count\":\"1\"},{\"name\":\"De milieukrant.\",\"count\":\"1\"},{\"name\":\"Europa-bericht\",\"count\":\"1\"},{\"name\":\"Welwijs.\",\"count\":\"1\"},{\"name\":\"Liberaal reflex.\",\"count\":\"1\"},{\"name\":\"I en I : nieuwe media in perspectief\",\"count\":\"1\"},{\"name\":\"Visie\",\"count\":\"1\"},{\"name\":\"Milieu- en energierecht\",\"count\":\"3\"},{\"name\":\"Natuurreservaten.\",\"count\":\"2\"},{\"name\":\"MilieuMagazine : vakblad voor milieumanagement.\",\"count\":\"1\"},{\"name\":\"Intereconomics.\",\"count\":\"1\"},{\"name\":\"M & L : monumenten, landschappen & archeologie.\",\"count\":\"1\"},{\"name\":\"Vlaams tijdschrift voor overheidsmanagement\",\"count\":\"1\"},{\"name\":\"Raaklijnen : tijdschrift voor kultuur en edukatie.\",\"count\":\"2\"},{\"name\":\"Echo's uit de gehandicaptenzorg.\",\"count\":\"1\"},{\"name\":\"Uitweg : het blad voor een betere mobiliteit.\",\"count\":\"1\"},{\"name\":\"Milieu & Bedrijf.\",\"count\":\"1\"},{\"name\":\"Journal of integrative environmental sciences.\",\"count\":\"2\"},{\"name\":\"Natuurwetenschap en techniek.\",\"count\":\"1\"},{\"name\":\"Vlaams ekonomisch verbond. Snelbericht\",\"count\":\"2\"},{\"name\":\"Bestuurswetenschappen\",\"count\":\"3\"},{\"name\":\"Milieu & Recht\",\"count\":\"3\"},{\"name\":\"Intereconomics : review of European economic policy.\",\"count\":\"1\"},{\"name\":\"Burger bestuur & beleid : tijdschrift voor bestuurskunde en bestuursrecht.\",\"count\":\"1\"},{\"name\":\"Kwartaalschrift economie : tijdschrift voor algemeen- en bedrijfseconomische vraagstukken.\",\"count\":\"1\"},{\"name\":\"Liga voor Mensenrechten. Nieuwsbrief\",\"count\":\"1\"},{\"name\":\"Het Vrije Waasland : informatieweekblad\",\"count\":\"2\"},{\"name\":\"Ode : opinietijdschrift.\",\"count\":\"2\"},{\"name\":\"Staatscourant : Nederlandse staatscourant.\",\"count\":\"3\"},{\"name\":\"Terzake : een praktijkblad over gemeentebeleid.\",\"count\":\"1\"},{\"name\":\"Nieuw links.\",\"count\":\"2\"},{\"name\":\"Tertio : christelijk opinieweekblad.\",\"count\":\"1\"},{\"name\":\"Eos\",\"count\":\"1\"},{\"name\":\"Lokaal voor gemeente en OCMW.\",\"count\":\"2\"},{\"name\":\"FOD Financiën. Documentatieblad.\",\"count\":\"1\"},{\"name\":\"Vlaams marxistisch tijdschrift.\",\"count\":\"1\"},{\"name\":\"Verkeersspecialist\",\"count\":\"1\"},{\"name\":\"Opbouwwerk Brussel : viermaandelijks informatieblad.\",\"count\":\"1\"},{\"name\":\"Mens en vogel.\",\"count\":\"1\"},{\"name\":\"ARGUS milieumagazine.\",\"count\":\"3\"},{\"name\":\"Milieu- en energierecht : driemaandelijkse duiding bij recente wetgeving, rechtspraak en rechtsleer (toegevoegd aan de Codex milieurecht).\",\"count\":\"1\"},{\"name\":\"Armoede en sociale uitsluiting : jaarboek\",\"count\":\"1\"},{\"name\":\"VIBEG-echo's.\",\"count\":\"1\"},{\"name\":\"MO* : mondiaal magazine.\",\"count\":\"2\"},{\"name\":\"Milieu magazine.\",\"count\":\"1\"},{\"name\":\"Kijk : Wetenschap Technologie Maatschappij Historie.\",\"count\":\"1\"},{\"name\":\"Leefmilieu : tweemaandelijks tijdschrift van de Stichting Leefmilieu.\",\"count\":\"2\"},{\"name\":\"HP\\/De tijd\",\"count\":\"1\"},{\"name\":\"De boer en de tuinder.\",\"count\":\"1\"},{\"name\":\"Tijdschrift voor ruimtelijke ordening en stedenbouw\",\"count\":\"1\"},{\"name\":\"De gemeente : vakblad voor gemeente en OCMW.\",\"count\":\"3\"},{\"name\":\"Vlaams tijdschrift voor sportbeheer.\",\"count\":\"1\"},{\"name\":\"Infrastructuur in het leefmilieu.\",\"count\":\"1\"},{\"name\":\"Groencontact: vakblad voor openbaar groen.\",\"count\":\"1\"}],\"name\":\"jtitle\",\"count\":100,\"index\":8},{\"values\":[{\"name\":\"E-books\",\"count\":\"81\"},{\"name\":\"Contains audio-visual material\",\"count\":\"2\"},{\"name\":\"Theses\",\"count\":\"6\"},{\"name\":\"Comics\",\"count\":\"1\"},{\"name\":\"Annual reports\",\"count\":\"17\"},{\"name\":\"Monographic series\",\"count\":\"1\"},{\"name\":\"Map added material\",\"count\":\"1\"},{\"name\":\"Special issues\",\"count\":\"11\"},{\"name\":\"Articles\",\"count\":\"220\"},{\"name\":\"Schoolbooks - Didactic material\",\"count\":\"1\"},{\"name\":\"Yearbooks\",\"count\":\"14\"},{\"name\":\"Websites & databases\",\"count\":\"10\"},{\"name\":\"E-articles\",\"count\":\"68\"},{\"name\":\"E-journals\",\"count\":\"2\"},{\"name\":\"Periodicals\",\"count\":\"15\"},{\"name\":\"Dossiers\",\"count\":\"4\"},{\"name\":\"Conferences - Meetings\",\"count\":\"4\"},{\"name\":\"Chapters\",\"count\":\"2\"},{\"name\":\"E-working papers\",\"count\":\"6\"}],\"name\":\"genre\",\"count\":19,\"index\":9},{\"values\":[{\"name\":\"TMOREM_KHM_LIB\",\"count\":\"16\"},{\"name\":\"KHLIM_LILEH_LIB\",\"count\":\"3\"},{\"name\":\"FARO_VCV_LIB\",\"count\":\"2\"},{\"name\":\"KUL_HHA_LIB\",\"count\":\"18\"},{\"name\":\"KHL_KHLCC_LIB\",\"count\":\"4\"},{\"name\":\"KHLIM_LIHBI_LIB\",\"count\":\"31\"},{\"name\":\"KUL_KVHA_LIB\",\"count\":\"3\"},{\"name\":\"BPB_ARCH_LIB\",\"count\":\"8\"},{\"name\":\"GSB_GGSB_LIB\",\"count\":\"4\"},{\"name\":\"KAHOSL_KHAAL_LIB\",\"count\":\"8\"},{\"name\":\"RELI_GOSA_LIB\",\"count\":\"2\"},{\"name\":\"KAHOSL_KHSTN_LIB\",\"count\":\"17\"},{\"name\":\"KUL_GBER_LIB\",\"count\":\"2\"},{\"name\":\"KUL_LBIB_LIB\",\"count\":\"1\"},{\"name\":\"KUL_RBIB_LIB\",\"count\":\"40\"},{\"name\":\"KUL_BIBC_LIB\",\"count\":\"81\"},{\"name\":\"LUCA_SLUCG_LIB\",\"count\":\"6\"},{\"name\":\"LIBAR_LIBAR_LIB\",\"count\":\"14\"},{\"name\":\"KATHO_KATOR_LIB\",\"count\":\"16\"},{\"name\":\"KADOC_KADOC_LIB\",\"count\":\"12\"},{\"name\":\"KBC_KBC_LIB\",\"count\":\"23\"},{\"name\":\"ACV_ACV_LIB\",\"count\":\"32\"},{\"name\":\"VDIC_VES_LIB\",\"count\":\"15\"},{\"name\":\"NBB_NBJUR_LIB\",\"count\":\"3\"},{\"name\":\"BB_BB_LIB\",\"count\":\"83\"},{\"name\":\"BPB_BPB_LIB\",\"count\":\"76\"},{\"name\":\"NBB_NBWBS_LIB\",\"count\":\"20\"},{\"name\":\"HUB_HUB_LIB\",\"count\":\"51\"},{\"name\":\"KATHO_KAKOR_LIB\",\"count\":\"28\"},{\"name\":\"KHBO_KHCO_LIB\",\"count\":\"18\"},{\"name\":\"LUCA_SLUCB_LIB\",\"count\":\"9\"},{\"name\":\"VDIC_BIOET_LIB\",\"count\":\"1\"},{\"name\":\"KATHO_KATIE_LIB\",\"count\":\"2\"},{\"name\":\"VLP_VLP_LIB\",\"count\":\"577\"},{\"name\":\"FINBI_FINBI_LIB\",\"count\":\"26\"},{\"name\":\"IMEC_IMEC_LIB\",\"count\":\"1\"},{\"name\":\"KHBO_KHCA_LIB\",\"count\":\"16\"},{\"name\":\"KUL_ETEW_LIB\",\"count\":\"68\"},{\"name\":\"KUL_SBIB_LIB\",\"count\":\"34\"},{\"name\":\"KHK_KHKV_LIB\",\"count\":\"6\"},{\"name\":\"KUL_PBIB_LIB\",\"count\":\"3\"},{\"name\":\"KHK_KHKG_LIB\",\"count\":\"20\"},{\"name\":\"KATHO_KAROE_LIB\",\"count\":\"19\"},{\"name\":\"KHL_KHLCH_LIB\",\"count\":\"29\"},{\"name\":\"KHLIM_LIGS_LIB\",\"count\":\"3\"},{\"name\":\"KUL_WBIB_LIB\",\"count\":\"117\"},{\"name\":\"KHK_KHKL_LIB\",\"count\":\"3\"},{\"name\":\"KUL_MGAS_LIB\",\"count\":\"5\"},{\"name\":\"KAHOSL_KHGEN_LIB\",\"count\":\"15\"},{\"name\":\"LUCA_LUKAS_LIB\",\"count\":\"5\"},{\"name\":\"SERV_SERV_LIB\",\"count\":\"41\"},{\"name\":\"OFO_TIFA_LIB\",\"count\":\"5\"},{\"name\":\"TMOREM_DNA_LIB\",\"count\":\"22\"},{\"name\":\"KUL_CAG_LIB\",\"count\":\"7\"},{\"name\":\"KHL_KHLSH_LIB\",\"count\":\"9\"},{\"name\":\"KMKG_KMMR_LIB\",\"count\":\"3\"},{\"name\":\"KHLIM_LILED_LIB\",\"count\":\"11\"},{\"name\":\"KUL_BUAR_LIB\",\"count\":\"2\"},{\"name\":\"KUL_BIBK_LIB\",\"count\":\"42\"},{\"name\":\"KUL_GBIB_LIB\",\"count\":\"4\"},{\"name\":\"VDIC_WIV_LIB\",\"count\":\"12\"},{\"name\":\"HUB_HUBPD_LIB\",\"count\":\"1\"},{\"name\":\"KUL_FBIB_LIB\",\"count\":\"4\"},{\"name\":\"RELI_GSDB_LIB\",\"count\":\"5\"},{\"name\":\"RBINS_RBINS_LIB\",\"count\":\"36\"},{\"name\":\"GSG_GGSG_LIB\",\"count\":\"2\"},{\"name\":\"KHL_KHLGT_LIB\",\"count\":\"12\"},{\"name\":\"RELI_GROL_LIB\",\"count\":\"1\"}],\"name\":\"library\",\"count\":68,\"index\":10},{\"values\":[{\"name\":\"Collectie Kleur Bekennen Vlaams-Brabant\",\"count\":\"2\"}],\"name\":\"local4\",\"count\":1,\"index\":11}]}";
        String data = facet.getAsJSON();
        assertEquals(expectedJSON, data);
    }

    @Test
    public void testGetXML() throws Exception {
        String expectedXML="<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n" +
                "<facets><facets><count>100</count><index>0</index><name>creator</name><values><value><count>2</count><name>Priemen, P</name></value><value><count>2</count><name>Koninckx, C</name></value><value><count>2</count><name>Eppinger, R</name></value><value><count>2</count><name>Janssens, P</name></value><value><count>2</count><name>Joly, L</name></value><value><count>3</count><name>Martens, B</name></value><value><count>3</count><name>Rousseau, S</name></value><value><count>3</count><name>Deridder, L</name></value><value><count>2</count><name>Schoukens, H</name></value><value><count>2</count><name>Van Looveren, R</name></value><value><count>3</count><name>Scheltjens, T</name></value><value><count>2</count><name>Bauters, P</name></value><value><count>2</count><name>Van Rompaey, M</name></value><value><count>2</count><name>Van Looy, K</name></value><value><count>2</count><name>Asaert, G</name></value><value><count>4</count><name>Van Hooydonk, E</name></value><value><count>2</count><name>Berlamont, J</name></value><value><count>2</count><name>Eylenbosch, J</name></value><value><count>2</count><name>Bursens, P</name></value><value><count>2</count><name>Didde, R</name></value><value><count>4</count><name>Van Steertegem, M</name></value><value><count>3</count><name>Faure, M</name></value><value><count>4</count><name>Martens, K</name></value><value><count>3</count><name>Maes, F</name></value><value><count>4</count><name>Vandaele, W</name></value><value><count>2</count><name>Mortelmans, K</name></value><value><count>2</count><name>Vandaele, K</name></value><value><count>2</count><name>Raymaekers, F</name></value><value><count>2</count><name>Batelaan, O</name></value><value><count>2</count><name>Vettenburg, N</name></value><value><count>2</count><name>De Cock, K</name></value><value><count>2</count><name>Lammens, J</name></value><value><count>2</count><name>Peeters, C</name></value><value><count>3</count><name>Brouwers, J</name></value><value><count>3</count><name>Mosley, P</name></value><value><count>3</count><name>Marchand, K</name></value><value><count>2</count><name>Raymaekers, B</name></value><value><count>2</count><name>Bosmans, D</name></value><value><count>2</count><name>Lindhout, P</name></value><value><count>4</count><name>Thomas, P</name></value><value><count>2</count><name>Broekx, S</name></value><value><count>3</count><name>Vercaemst, P</name></value><value><count>6</count><name>Proost, S</name></value><value><count>3</count><name>Carette, A</name></value><value><count>4</count><name>Heyman, J</name></value><value><count>6</count><name>De Witte, K</name></value><value><count>2</count><name>Van Liefferinge, C</name></value><value><count>3</count><name>Vaes, G</name></value><value><count>4</count><name>De Pauw, N</name></value><value><count>2</count><name>Bruyndoncx, M</name></value><value><count>2</count><name>Goethals, P</name></value><value><count>2</count><name>Cauwenberghs, K</name></value><value><count>2</count><name>Marques, R</name></value><value><count>4</count><name>Smout, L</name></value><value><count>2</count><name>Santbergen, L</name></value><value><count>2</count><name>Crabbé, A</name></value><value><count>2</count><name>Emery, J</name></value><value><count>2</count><name>Meynaerts, E</name></value><value><count>2</count><name>Pearce, F</name></value><value><count>2</count><name>Hermy, M</name></value><value><count>4</count><name>Berkoff, J</name></value><value><count>2</count><name>Swerts, M</name></value><value><count>3</count><name>Gielen, B</name></value><value><count>2</count><name>van Wesemael, B</name></value><value><count>3</count><name>Van Hoestenberghe, T</name></value><value><count>2</count><name>Vanneuville, W</name></value><value><count>2</count><name>Ronse, Y</name></value><value><count>2</count><name>Wiering, M</name></value><value><count>3</count><name>Lincklaen Arriëns, W</name></value><value><count>2</count><name>De Moor, F</name></value><value><count>2</count><name>Van Hootegem, H</name></value><value><count>3</count><name>Lavrysen, L</name></value><value><count>2</count><name>Huygens, M</name></value><value><count>2</count><name>Van de Water, G</name></value><value><count>2</count><name>Moons, E</name></value><value><count>2</count><name>Glasbergen, P</name></value><value><count>2</count><name>Vos, G</name></value><value><count>3</count><name>Mostaert, F</name></value><value><count>3</count><name>Deketelaere, K</name></value><value><count>4</count><name>Verbruggen, A</name></value><value><count>2</count><name>Wartel, S</name></value><value><count>5</count><name>De Smedt, P</name></value><value><count>2</count><name>Hens, L</name></value><value><count>2</count><name>Petrella, R</name></value><value><count>3</count><name>Bird, J</name></value><value><count>2</count><name>Postel, S</name></value><value><count>2</count><name>Gore, A</name></value><value><count>6</count><name>Willems, P</name></value><value><count>2</count><name>Lamote, A</name></value><value><count>2</count><name>Smedt, P</name></value><value><count>2</count><name>Vereecken, H</name></value><value><count>4</count><name>Van Eerdenbrugh, K</name></value><value><count>3</count><name>De Smedt, F</name></value><value><count>2</count><name>Geeraerts, K</name></value><value><count>2</count><name>Diriken, P</name></value><value><count>11</count><name>Meire, P</name></value><value><count>2</count><name>D'hondt</name></value><value><count>2</count><name>D'heygere</name></value><value><count>2</count><name>De Bie, E</name></value><value><count>3</count><name>Voet, M</name></value></values></facets><facets><count>7</count><index>1</index><name>lang</name><values><value><count>5</count><name>und</name></value><value><count>2</count><name>ger</name></value><value><count>595</count><name>dut</name></value><value><count>1</count><name>ara</name></value><value><count>159</count><name>eng</name></value><value><count>10</count><name>fre</name></value><value><count>1</count><name>spa</name></value></values></facets><facets><count>10</count><index>2</index><name>rtype</name><values><value><count>448</count><name>books</name></value><value><count>6</count><name>dissertations</name></value><value><count>48</count><name>journals</name></value><value><count>1</count><name>other</name></value><value><count>1</count><name>databases</name></value><value><count>200</count><name>text_resources</name></value><value><count>290</count><name>Articles</name></value><value><count>10</count><name>websites</name></value><value><count>4</count><name>media</name></value><value><count>1</count><name>schoolbooks</name></value></values></facets><facets><count>97</count><index>3</index><name>topic</name><values><value><count>9</count><name>Milieubescherming. Milieutechnologie</name></value><value><count>9</count><name>#C9202</name></value><value><count>9</count><name>#A9110A</name></value><value><count>12</count><name>#C9201</name></value><value><count>7</count><name>Pollutie van lucht, water, grond--(openbare gezondheidszorg)--België</name></value><value><count>7</count><name>belgique</name></value><value><count>14</count><name>Environment. Environmental science</name></value><value><count>7</count><name>Water Eau Water</name></value><value><count>14</count><name>#SBIB:35H434 Beleidssectoren: milieubeleid en ruimtelijke ordening</name></value><value><count>6</count><name>P493VL Vlaanderen Flandres</name></value><value><count>8</count><name>luchtverontreiniging</name></value><value><count>16</count><name>504 milieu</name></value><value><count>13</count><name>milieubeleid trefwoord HUB</name></value><value><count>15</count><name>BE / Belgium - België - Belgique</name></value><value><count>11</count><name>#ECO:01.13:economie sociaal duurzaam milieu ethiek</name></value><value><count>10</count><name>AA / International- internationaal</name></value><value><count>8</count><name>Nederland</name></value><value><count>9</count><name>afval</name></value><value><count>7</count><name>Milieu-economie 504.7:330</name></value><value><count>6</count><name>#SBIB:35H6015 Bestuur en beleid: nationale en regionale studies: Vlaanderen</name></value><value><count>15</count><name>België</name></value><value><count>24</count><name>532 Watervervuiling en waterzuivering OC</name></value><value><count>6</count><name>#A9306A</name></value><value><count>6</count><name>Energie 620.9</name></value><value><count>6</count><name>Milieubeleid 504.7:338</name></value><value><count>51</count><name>Pollutie van lucht, water, grond--(openbare gezondheidszorg)</name></value><value><count>26</count><name>Milieu 504.7</name></value><value><count>7</count><name>614.7 milieu - leefmilieu - milieubeleid (zie ook 712) - duurzame ontwikkeling environnement (voir aussi 712) - développement durable</name></value><value><count>6</count><name>milieuzorg</name></value><value><count>23</count><name>469 Energie</name></value><value><count>10</count><name>Water 614.7:502.5-204</name></value><value><count>8</count><name>556 water</name></value><value><count>9</count><name>628 Milieubescherming. Milieutechnologie</name></value><value><count>7</count><name>Milieu-bedrijfsleven 504.7:658:338</name></value><value><count>7</count><name>444 Watervervoer</name></value><value><count>13</count><name>504</name></value><value><count>10</count><name>Klimaatverandering</name></value><value><count>8</count><name>leefmilieu environnement</name></value><value><count>6</count><name>waterzuivering trefwoord HUB</name></value><value><count>6</count><name>460 Economie</name></value><value><count>8</count><name>550 Bodemverontreiniging</name></value><value><count>6</count><name>milieuverontreiniging</name></value><value><count>10</count><name>351.2 Openbare gezondheid. Milieubescherming. Milieuvervuiling. Santé publique. Environnement. Pollution. Ecologie. Public health. Conservation. Environmental pollution.</name></value><value><count>7</count><name>628.1 water - waterbeleid - waterdistributie - watervoorziening politique de l'eau - distribution d'eau</name></value><value><count>9</count><name>milieubeleid politique de l'environnement</name></value><value><count>8</count><name>Pollutie van lucht, water, grond--(openbare gezondheidszorg)--Vlaanderen. Vlaams Gewest. Nederlandstalige Gemeenschap in België</name></value><value><count>12</count><name>#SERV: inv. Leuven 4</name></value><value><count>18</count><name>Academic collection</name></value><value><count>6</count><name>614.621 Waterverontreiniging siso</name></value><value><count>36</count><name>532 Watervervuiling en waterzuivering</name></value><value><count>11</count><name>Ecologie</name></value><value><count>7</count><name>milieu - leefmilieu - milieubeleid (zie ook 712) - duurzame ontwikkeling</name></value><value><count>11</count><name>environnement</name></value><value><count>19</count><name>Vlaanderen</name></value><value><count>37</count><name>530 Waterbeleid OC</name></value><value><count>13</count><name>540 Luchtverontreiniging</name></value><value><count>6</count><name>883 Azië</name></value><value><count>8</count><name>Afvalwater</name></value><value><count>15</count><name>milieuproblematiek trefwoord HUB</name></value><value><count>6</count><name>34 wetgeving</name></value><value><count>7</count><name>milieuvervuiling trefwoord HUB</name></value><value><count>8</count><name>Europese unie</name></value><value><count>15</count><name>500 Milieu OC</name></value><value><count>10</count><name>Beleidssectoren: milieubeleid en ruimtelijke ordening</name></value><value><count>25</count><name>500 Milieu</name></value><value><count>7</count><name>475 Landbouw</name></value><value><count>7</count><name>Vlaamse Gemeenschap / Gewest trefwoord HUB</name></value><value><count>6</count><name>580 Ruimtelijke ordening</name></value><value><count>8</count><name>Ministerie van de Vlaamse Gemeenschap 353.11</name></value><value><count>17</count><name>469.1 Natuurlijke rijkdommen behalve energie en water OC</name></value><value><count>11</count><name>355 Milieu Environnement Environment</name></value><value><count>11</count><name>(493=393.2)</name></value><value><count>34</count><name>water</name></value><value><count>9</count><name>Openbare gezondheid. Milieubescherming. Milieuvervuiling.</name></value><value><count>6</count><name>politique de l'environnement</name></value><value><count>6</count><name>#A9703A</name></value><value><count>21</count><name>520 Milieubeleid</name></value><value><count>24</count><name>Milieubeleid</name></value><value><count>7</count><name>830 Economie</name></value><value><count>32</count><name>469.1 Natuurlijke rijkdommen behalve energie en water</name></value><value><count>7</count><name>Wetgeving, reglementering i.v.m. milieubeheer, milieuhygiene, verontreiniging. Milieurecht. Milieuhygienerecht--zie ook {?502/504}; {?613/614}; {628}--Vlaanderen. Vlaams Gewest. Nederlandstalige Gemeenschap in België</name></value><value><count>16</count><name>838.1 Ecologie</name></value><value><count>9</count><name>813 Methodologie</name></value><value><count>9</count><name>614.7</name></value><value><count>8</count><name>835 Natuurlijke rijkdommen</name></value><value><count>18</count><name>351.777</name></value><value><count>10</count><name>Sociaal Economische Raad / SER 331.883.5SER</name></value><value><count>16</count><name>waterverontreiniging</name></value><value><count>21</count><name>440.2 Openbare werken - Water OC</name></value><value><count>31</count><name>440.2 Openbare werken. Water</name></value><value><count>8</count><name>Openbare gezondheidszorg.--zie ook {?614.1/7} en {628}.</name></value><value><count>142</count><name>530 Waterbeleid</name></value><value><count>45</count><name>Milieu</name></value><value><count>10</count><name>Wetgeving, reglementering i.v.m. milieubeheer, milieuhygiene, verontreiniging. Milieurecht. Milieuhygienerecht--zie ook {?502/504}; {?613/614}; {628}</name></value><value><count>8</count><name>#A9209A</name></value><value><count>8</count><name>531 Waterwinning</name></value><value><count>9</count><name>Public health engineering. Water. Sanitation. Illuminating engineering</name></value></values></facets><facets><count>2</count><index>4</index><name>tlevel</name><values><value><count>209</count><name>online_resources</name></value><value><count>577</count><name>print_copies</name></value></values></facets><facets><count>9</count><index>5</index><name>pfilter</name><values><value><count>444</count><name>books</name></value><value><count>6</count><name>dissertations</name></value><value><count>48</count><name>journals</name></value><value><count>1</count><name>databases</name></value><value><count>4</count><name>audio_video</name></value><value><count>200</count><name>text_resources</name></value><value><count>290</count><name>Articles</name></value><value><count>10</count><name>websites</name></value><value><count>1</count><name>schoolbooks</name></value></values></facets><facets><count>42</count><index>6</index><name>creationdate</name><values><value><count>27</count><name>2008</name></value><value><count>17</count><name>2009</name></value><value><count>37</count><name>2006</name></value><value><count>83</count><name>2007</name></value><value><count>29</count><name>2004</name></value><value><count>18</count><name>2005</name></value><value><count>17</count><name>2002</name></value><value><count>29</count><name>2003</name></value><value><count>28</count><name>1995</name></value><value><count>29</count><name>1996</name></value><value><count>14</count><name>1997</name></value><value><count>2</count><name>1972</name></value><value><count>31</count><name>1998</name></value><value><count>33</count><name>1991</name></value><value><count>1</count><name>1973</name></value><value><count>27</count><name>1992</name></value><value><count>17</count><name>1993</name></value><value><count>31</count><name>1994</name></value><value><count>1</count><name>1977</name></value><value><count>46</count><name>2012</name></value><value><count>3</count><name>1978</name></value><value><count>26</count><name>2011</name></value><value><count>1</count><name>1979</name></value><value><count>32</count><name>2010</name></value><value><count>17</count><name>1999</name></value><value><count>32</count><name>2013</name></value><value><count>11</count><name>2014</name></value><value><count>4</count><name>2015</name></value><value><count>1</count><name>1968</name></value><value><count>18</count><name>1990</name></value><value><count>4</count><name>500</name></value><value><count>1</count><name>1982</name></value><value><count>1</count><name>1980</name></value><value><count>2</count><name>1981</name></value><value><count>6</count><name>1986</name></value><value><count>2</count><name>1987</name></value><value><count>4</count><name>1984</name></value><value><count>6</count><name>1985</name></value><value><count>3</count><name>1988</name></value><value><count>8</count><name>1989</name></value><value><count>30</count><name>2001</name></value><value><count>22</count><name>2000</name></value></values></facets><facets><count>1</count><index>7</index><name>domain</name><values><value><count>768</count><name>LIBISnet Catalogue</name></value></values></facets><facets><count>100</count><index>8</index><name>jtitle</name><values><value><count>1</count><name>Bestuurskunde</name></value><value><count>2</count><name>De Europese gemeente : tijdschrift van en voor de lokale besturen</name></value><value><count>1</count><name>Natuur.blad.</name></value><value><count>3</count><name>Economisch statistische berichten</name></value><value><count>3</count><name>iMediair : input voor je carriere.</name></value><value><count>1</count><name>De gids op maatschappelijk gebied : blad met mening (m/v).</name></value><value><count>2</count><name>De koevoet : tijdschrift voor een duurzame levensstijl.</name></value><value><count>1</count><name>Verrekijker</name></value><value><count>2</count><name>Markant : onafhankelijk progressief weekblad</name></value><value><count>2</count><name>EOS magazine : wetenschap en technologie voor de mens.</name></value><value><count>38</count><name>Water : tijdschrift over waterproblematiek.</name></value><value><count>1</count><name>The OECD observer.</name></value><value><count>4</count><name>Arbeid en milieu magazine.</name></value><value><count>6</count><name>Milieurama.</name></value><value><count>1</count><name>TerZake : praktijkblad over lokaal beleid, inspraak en samenlevingsopbouw.</name></value><value><count>1</count><name>Jura falconis.</name></value><value><count>1</count><name>Spoorzoeker : driemaandelijks nieuwsmagazine van het Agentschap voor Natuur en Bos.</name></value><value><count>2</count><name>Humo : onafhankelijk weekblad voor radio en televisie.</name></value><value><count>2</count><name>Samenleving en politiek : tijdschrift voor een democratisch socialisme.</name></value><value><count>2</count><name>Energie en milieu : tijdschrift over energie en leefmilieu.</name></value><value><count>2</count><name>Bodem : tijdschrift over duurzaam bodembeheer</name></value><value><count>1</count><name>Doorbraak : maandblad van de Vlaamse Volksbeweging vzw.</name></value><value><count>2</count><name>West-Vlaanderen werkt.</name></value><value><count>3</count><name>Natuur en techniek.</name></value><value><count>2</count><name>A&amp;M magazine : driemaandelijks tijdschrift van Arbeid en Milieu.</name></value><value><count>1</count><name>Bladgroen : maandblad van de Vlaamse groenen</name></value><value><count>2</count><name>Scientific American.</name></value><value><count>2</count><name>De nieuwe maand : tijdschrift voor politieke vernieuwing.</name></value><value><count>1</count><name>De gids.</name></value><value><count>1</count><name>Greenpeace magazine.</name></value><value><count>1</count><name>De grote rede : nieuws over onze kust en zee</name></value><value><count>1</count><name>Tijdschrift voor bestuurswetenschappen en publiekrecht</name></value><value><count>1</count><name>Sociaal-economische wetgeving : tijdschrift voor Europees en economisch recht</name></value><value><count>3</count><name>MilieuDirect : vakblad voor bedrijfsleiders en milieuprofessionals.</name></value><value><count>5</count><name>Milieutechnologie : maandelijkse nieuwsbrief.</name></value><value><count>1</count><name>Binnenvaart : magazine voor vervoer over water.</name></value><value><count>3</count><name>MilieuDirect :, (vakblad voor bedrijfsleiders en milieuprofessionals.)</name></value><value><count>1</count><name>Journal of Common Market Studies</name></value><value><count>2</count><name>Tijdschrift voor milieurecht</name></value><value><count>1</count><name>The bulletin : the newsweekly of the capital of Europe.</name></value><value><count>2</count><name>Knack</name></value><value><count>2</count><name>Internationale spectator : tijdschrift voor internationale politiek</name></value><value><count>1</count><name>Milieumagazine</name></value><value><count>1</count><name>Het belang van Limburg.</name></value><value><count>2</count><name>Nederlands Juristenblad</name></value><value><count>2</count><name>Codex milieurecht. Milieurecht info.</name></value><value><count>1</count><name>European planning studies.</name></value><value><count>1</count><name>De milieukrant.</name></value><value><count>1</count><name>Europa-bericht</name></value><value><count>1</count><name>Welwijs.</name></value><value><count>1</count><name>Liberaal reflex.</name></value><value><count>1</count><name>I en I : nieuwe media in perspectief</name></value><value><count>1</count><name>Visie</name></value><value><count>3</count><name>Milieu- en energierecht</name></value><value><count>2</count><name>Natuurreservaten.</name></value><value><count>1</count><name>MilieuMagazine : vakblad voor milieumanagement.</name></value><value><count>1</count><name>Intereconomics.</name></value><value><count>1</count><name>M &amp; L : monumenten, landschappen &amp; archeologie.</name></value><value><count>1</count><name>Vlaams tijdschrift voor overheidsmanagement</name></value><value><count>2</count><name>Raaklijnen : tijdschrift voor kultuur en edukatie.</name></value><value><count>1</count><name>Echo's uit de gehandicaptenzorg.</name></value><value><count>1</count><name>Uitweg : het blad voor een betere mobiliteit.</name></value><value><count>1</count><name>Milieu &amp; Bedrijf.</name></value><value><count>2</count><name>Journal of integrative environmental sciences.</name></value><value><count>1</count><name>Natuurwetenschap en techniek.</name></value><value><count>2</count><name>Vlaams ekonomisch verbond. Snelbericht</name></value><value><count>3</count><name>Bestuurswetenschappen</name></value><value><count>3</count><name>Milieu &amp; Recht</name></value><value><count>1</count><name>Intereconomics : review of European economic policy.</name></value><value><count>1</count><name>Burger bestuur &amp; beleid : tijdschrift voor bestuurskunde en bestuursrecht.</name></value><value><count>1</count><name>Kwartaalschrift economie : tijdschrift voor algemeen- en bedrijfseconomische vraagstukken.</name></value><value><count>1</count><name>Liga voor Mensenrechten. Nieuwsbrief</name></value><value><count>2</count><name>Het Vrije Waasland : informatieweekblad</name></value><value><count>2</count><name>Ode : opinietijdschrift.</name></value><value><count>3</count><name>Staatscourant : Nederlandse staatscourant.</name></value><value><count>1</count><name>Terzake : een praktijkblad over gemeentebeleid.</name></value><value><count>2</count><name>Nieuw links.</name></value><value><count>1</count><name>Tertio : christelijk opinieweekblad.</name></value><value><count>1</count><name>Eos</name></value><value><count>2</count><name>Lokaal voor gemeente en OCMW.</name></value><value><count>1</count><name>FOD Financiën. Documentatieblad.</name></value><value><count>1</count><name>Vlaams marxistisch tijdschrift.</name></value><value><count>1</count><name>Verkeersspecialist</name></value><value><count>1</count><name>Opbouwwerk Brussel : viermaandelijks informatieblad.</name></value><value><count>1</count><name>Mens en vogel.</name></value><value><count>3</count><name>ARGUS milieumagazine.</name></value><value><count>1</count><name>Milieu- en energierecht : driemaandelijkse duiding bij recente wetgeving, rechtspraak en rechtsleer (toegevoegd aan de Codex milieurecht).</name></value><value><count>1</count><name>Armoede en sociale uitsluiting : jaarboek</name></value><value><count>1</count><name>VIBEG-echo's.</name></value><value><count>2</count><name>MO* : mondiaal magazine.</name></value><value><count>1</count><name>Milieu magazine.</name></value><value><count>1</count><name>Kijk : Wetenschap Technologie Maatschappij Historie.</name></value><value><count>2</count><name>Leefmilieu : tweemaandelijks tijdschrift van de Stichting Leefmilieu.</name></value><value><count>1</count><name>HP/De tijd</name></value><value><count>1</count><name>De boer en de tuinder.</name></value><value><count>1</count><name>Tijdschrift voor ruimtelijke ordening en stedenbouw</name></value><value><count>3</count><name>De gemeente : vakblad voor gemeente en OCMW.</name></value><value><count>1</count><name>Vlaams tijdschrift voor sportbeheer.</name></value><value><count>1</count><name>Infrastructuur in het leefmilieu.</name></value><value><count>1</count><name>Groencontact: vakblad voor openbaar groen.</name></value></values></facets><facets><count>19</count><index>9</index><name>genre</name><values><value><count>81</count><name>E-books</name></value><value><count>2</count><name>Contains audio-visual material</name></value><value><count>6</count><name>Theses</name></value><value><count>1</count><name>Comics</name></value><value><count>17</count><name>Annual reports</name></value><value><count>1</count><name>Monographic series</name></value><value><count>1</count><name>Map added material</name></value><value><count>11</count><name>Special issues</name></value><value><count>220</count><name>Articles</name></value><value><count>1</count><name>Schoolbooks - Didactic material</name></value><value><count>14</count><name>Yearbooks</name></value><value><count>10</count><name>Websites &amp; databases</name></value><value><count>68</count><name>E-articles</name></value><value><count>2</count><name>E-journals</name></value><value><count>15</count><name>Periodicals</name></value><value><count>4</count><name>Dossiers</name></value><value><count>4</count><name>Conferences - Meetings</name></value><value><count>2</count><name>Chapters</name></value><value><count>6</count><name>E-working papers</name></value></values></facets><facets><count>68</count><index>10</index><name>library</name><values><value><count>16</count><name>TMOREM_KHM_LIB</name></value><value><count>3</count><name>KHLIM_LILEH_LIB</name></value><value><count>2</count><name>FARO_VCV_LIB</name></value><value><count>18</count><name>KUL_HHA_LIB</name></value><value><count>4</count><name>KHL_KHLCC_LIB</name></value><value><count>31</count><name>KHLIM_LIHBI_LIB</name></value><value><count>3</count><name>KUL_KVHA_LIB</name></value><value><count>8</count><name>BPB_ARCH_LIB</name></value><value><count>4</count><name>GSB_GGSB_LIB</name></value><value><count>8</count><name>KAHOSL_KHAAL_LIB</name></value><value><count>2</count><name>RELI_GOSA_LIB</name></value><value><count>17</count><name>KAHOSL_KHSTN_LIB</name></value><value><count>2</count><name>KUL_GBER_LIB</name></value><value><count>1</count><name>KUL_LBIB_LIB</name></value><value><count>40</count><name>KUL_RBIB_LIB</name></value><value><count>81</count><name>KUL_BIBC_LIB</name></value><value><count>6</count><name>LUCA_SLUCG_LIB</name></value><value><count>14</count><name>LIBAR_LIBAR_LIB</name></value><value><count>16</count><name>KATHO_KATOR_LIB</name></value><value><count>12</count><name>KADOC_KADOC_LIB</name></value><value><count>23</count><name>KBC_KBC_LIB</name></value><value><count>32</count><name>ACV_ACV_LIB</name></value><value><count>15</count><name>VDIC_VES_LIB</name></value><value><count>3</count><name>NBB_NBJUR_LIB</name></value><value><count>83</count><name>BB_BB_LIB</name></value><value><count>76</count><name>BPB_BPB_LIB</name></value><value><count>20</count><name>NBB_NBWBS_LIB</name></value><value><count>51</count><name>HUB_HUB_LIB</name></value><value><count>28</count><name>KATHO_KAKOR_LIB</name></value><value><count>18</count><name>KHBO_KHCO_LIB</name></value><value><count>9</count><name>LUCA_SLUCB_LIB</name></value><value><count>1</count><name>VDIC_BIOET_LIB</name></value><value><count>2</count><name>KATHO_KATIE_LIB</name></value><value><count>577</count><name>VLP_VLP_LIB</name></value><value><count>26</count><name>FINBI_FINBI_LIB</name></value><value><count>1</count><name>IMEC_IMEC_LIB</name></value><value><count>16</count><name>KHBO_KHCA_LIB</name></value><value><count>68</count><name>KUL_ETEW_LIB</name></value><value><count>34</count><name>KUL_SBIB_LIB</name></value><value><count>6</count><name>KHK_KHKV_LIB</name></value><value><count>3</count><name>KUL_PBIB_LIB</name></value><value><count>20</count><name>KHK_KHKG_LIB</name></value><value><count>19</count><name>KATHO_KAROE_LIB</name></value><value><count>29</count><name>KHL_KHLCH_LIB</name></value><value><count>3</count><name>KHLIM_LIGS_LIB</name></value><value><count>117</count><name>KUL_WBIB_LIB</name></value><value><count>3</count><name>KHK_KHKL_LIB</name></value><value><count>5</count><name>KUL_MGAS_LIB</name></value><value><count>15</count><name>KAHOSL_KHGEN_LIB</name></value><value><count>5</count><name>LUCA_LUKAS_LIB</name></value><value><count>41</count><name>SERV_SERV_LIB</name></value><value><count>5</count><name>OFO_TIFA_LIB</name></value><value><count>22</count><name>TMOREM_DNA_LIB</name></value><value><count>7</count><name>KUL_CAG_LIB</name></value><value><count>9</count><name>KHL_KHLSH_LIB</name></value><value><count>3</count><name>KMKG_KMMR_LIB</name></value><value><count>11</count><name>KHLIM_LILED_LIB</name></value><value><count>2</count><name>KUL_BUAR_LIB</name></value><value><count>42</count><name>KUL_BIBK_LIB</name></value><value><count>4</count><name>KUL_GBIB_LIB</name></value><value><count>12</count><name>VDIC_WIV_LIB</name></value><value><count>1</count><name>HUB_HUBPD_LIB</name></value><value><count>4</count><name>KUL_FBIB_LIB</name></value><value><count>5</count><name>RELI_GSDB_LIB</name></value><value><count>36</count><name>RBINS_RBINS_LIB</name></value><value><count>2</count><name>GSG_GGSG_LIB</name></value><value><count>12</count><name>KHL_KHLGT_LIB</name></value><value><count>1</count><name>RELI_GROL_LIB</name></value></values></facets><facets><count>1</count><index>11</index><name>local4</name><values><value><count>2</count><name>Collectie Kleur Bekennen Vlaams-Brabant</name></value></values></facets></facets>\r\n";
        String data = facet.getAsXML();
        assertEquals(expectedXML, data);
    }


}
